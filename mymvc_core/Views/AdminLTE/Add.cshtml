@model mymvc_core.Models.Messages


@{
    ViewData["Title"] = "New";

    SelectList messageStatusComboBox = new SelectList(Enum.GetNames(typeof(MessageStatus)));
}

<div class="content-wrapper">


    <section class="content">
        <div class="box box-success">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-6">                   
                        <form role="form" action="@(TempData["edit"] == null?Url.Action("Add", "AdminLTE"):Url.Action("Update", "AdminLTE"))" method="post">
                            <span class="text-red">@Html.ValidationSummary()</span>

                            <h2> @Url.Action("Add", "AdminLTE", null)</h2>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Submission)
                                        @Html.TextBoxFor(m => m.Submission, new { Class = "form-control" })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Date)
                                        @Html.TextBoxFor(m => m.Date, new { Class = "form-control datepicker" })
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Isprivate)
                                        @Html.DropDownListFor(m => m.Isprivate, messageStatusComboBox, new { Class = "selectpicker form-control" })
                                    </div>
                                </div>
                            </div>


                            <div class="form-group">
                                @Html.LabelFor(m => m.Message)
                                @Html.TextBoxFor(m => m.Message, new { Class = "form-control" })
                            </div>
                            @Html.AntiForgeryToken()


                            @if (TempData["edit"] != null)
                            {
                                <input asp-for="Id"  type="hidden" />
                                <button type="submit" class="btn btn-success btn-flat pull-left"><i class="fa fa-check"></i>保存</button>
                                <a href="@Url.Action("Messages", "AdminLTE")" class="btn btn-flat btn-default"><i class="fa fa-eye"></i> 返回</a>
                            }
                            else
                            {
                                <button type="submit" class="btn btn-success btn-flat pull-left"><i class="fa fa-check"></i>添加</button>
                            }
                        </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>


    </div>







